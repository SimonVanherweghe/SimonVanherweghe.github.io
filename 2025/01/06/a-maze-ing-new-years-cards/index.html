<!DOCTYPE html><meta name="description" content="A new year, a new card. This year I've made everyone a unique maze to solve, with a hidden message included."><meta property="article:published_time" content="2025-01-06T19:49:57.417Z"><meta property="og:title" content="A-maze-ing new year"><meta property="og:description" content="A new year, a new card. This year I've made everyone a unique maze to solve, with a hidden message included."><meta property="og:url" content="https://donebysimon.be/2025/01/06/a-maze-ing-new-years-cards/"><meta property="og:image" content="https://donebysimon.be/og/2025-01-06-a-maze-ing-new-year.png"><meta property="og:type" content="article"><meta name="twitter:card" content="summary_large_image"><meta name="twitter:title" content="A-maze-ing new year"><meta property="twitter:description" content="A new year, a new card. This year I've made everyone a unique maze to solve, with a hidden message included."><meta name="twitter:image" content="https://donebysimon.be/og/2025-01-06-a-maze-ing-new-year.png"> <html lang="en"> <head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="canonical" href="https://donebysimon.be/2025/01/06/a-maze-ing-new-years-cards/"><title>A-maze-ing new year</title><link rel="stylesheet" href="/_astro/index.DeB9XgeF.css">
<style>ul[data-astro-cid-dlmosuxq]{display:flex;flex-wrap:wrap;gap:var(--space-xs);font-size:var(--step--1);color:var(--color-grey);margin-bottom:var(--space-xs)}a[data-astro-cid-dlmosuxq]{text-decoration:none;padding:var(--space-3xs) var(--space-2xs);border-radius:.5em}a[data-astro-cid-dlmosuxq]:hover{background-color:var(--color-accent);color:var(--color-bg)}
header[data-astro-cid-fzx4jmue]{max-width:var(--max-width-content);margin:0 auto}div[data-astro-cid-fzx4jmue].markdown{max-width:var(--max-width-content);margin:0 auto;padding-bottom:var(--space-xl);border-bottom:var(--border)}.title[data-astro-cid-fzx4jmue]{font-size:var(--step-4);font-weight:400;margin-bottom:var(--space-m)}.desc[data-astro-cid-fzx4jmue]{font-size:var(--step-1);margin-bottom:var(--space-s)}.details[data-astro-cid-fzx4jmue]{font-size:var(--step--1);color:var(--color-grey);margin-bottom:var(--space-s)}aside[data-astro-cid-fzx4jmue]{max-width:var(--max-width-content);margin:var(--space-xl) auto}.pagination[data-astro-cid-fzx4jmue]{display:flex;justify-content:space-between;align-items:end}.pagination[data-astro-cid-fzx4jmue]>[data-astro-cid-fzx4jmue]{flex:1}.pagination[data-astro-cid-fzx4jmue]>[data-astro-cid-fzx4jmue]:last-child{text-align:right}
img[data-astro-cid-nephlaow]{aspect-ratio:16/8;object-fit:cover;margin-bottom:var(--space-xs);grid-area:img}
[data-astro-image]{width:100%;height:auto;object-fit:var(--fit);object-position:var(--pos);aspect-ratio:var(--w) / var(--h)}[data-astro-image=responsive]{max-width:calc(var(--w) * 1px);max-height:calc(var(--h) * 1px)}[data-astro-image=fixed]{width:calc(var(--w) * 1px);height:calc(var(--h) * 1px)}
</style></head> <body> <div class="layout-wrapper"> <header data-astro-cid-3ef6ksr2> <div data-astro-cid-3ef6ksr2> <h1 data-astro-cid-3ef6ksr2> <a href="/" data-astro-cid-3ef6ksr2> DONEBYSIMON</a> </h1> <nav data-astro-cid-3ef6ksr2> <ul data-astro-cid-3ef6ksr2> <li data-astro-cid-3ef6ksr2> <a href="/blog" data-astro-cid-3ef6ksr2>Blog</a> </li> <li data-astro-cid-3ef6ksr2> <a href="/about" data-astro-cid-3ef6ksr2>About</a> </li> </ul> </nav> </div> </header>  <main class="main">  <article class="post" data-astro-cid-fzx4jmue> <header data-astro-cid-fzx4jmue> <ul data-astro-cid-dlmosuxq> <li data-astro-cid-dlmosuxq><a href="/tags/code" data-astro-cid-dlmosuxq>#code</a></li><li data-astro-cid-dlmosuxq><a href="/tags/plotter" data-astro-cid-dlmosuxq>#plotter</a></li> </ul>  <h1 class="title" data-astro-cid-fzx4jmue>A-maze-ing new year</h1> <p class="desc" data-astro-cid-fzx4jmue>A new year, a new card. This year I&#39;ve made everyone a unique maze to solve, with a hidden message included.</p> <div class="details" data-astro-cid-fzx4jmue> <time datetime="2025-01-06T19:49:57.417Z" data-astro-cid-fzx4jmue> 1/6/2025 </time> </div> </header> <img src="/_astro/previewmaze.mbP6m7QD_Z1r3FXU.avif" srcset="/_astro/previewmaze.mbP6m7QD_Z1hUzWb.avif 500w, /_astro/previewmaze.mbP6m7QD_ZHj5pK.avif 750w, /_astro/previewmaze.mbP6m7QD_Z1x5vLE.avif 1000w, /_astro/previewmaze.mbP6m7QD_2rD4td.avif 1500w" sizes="100vw" alt="A-maze-ing new year" data-astro-cid-nephlaow="true" width="4032" height="2268" loading="lazy" decoding="async" class="headerimg">  <div class="markdown" data-astro-cid-fzx4jmue> <p>Like <a href="/2024/01/12/new-years-cards/">last year</a>, I wanted to create a unique New Year’s card for my friends and family. This time, I designed a maze where the path spelled out “2025”, adding a fun twist to the traditional maze puzzle.</p>
<h2 id="maze-algorithms">Maze Algorithms</h2>
<p>I found several insightful articles about <a href="https://cloudfour.com/thinks/generating-random-mazes-with-javascript/">maze generation</a> and <a href="https://bost.ocks.org/mike/algorithms/#maze-generation">maze algorithms in general</a>, including <a href="https://professor-l.github.io/mazes/">Professor L’s detailed explanations</a> and <a href="https://www.jamisbuck.org/mazes/">Jamis Buck’s resources</a>.</p>
<p>For this project, I chose Wilson’s algorithm. Based on <a href="https://en.wikipedia.org/wiki/Loop-erased_random_walk">loop-erased random walks</a>, it seemed ideal for implementing a fixed path that spelled out “2025”. The algorithm creates a random walk, erases any loops when the path intersects itself, and continues until the maze is complete. <a href="https://professor-l.github.io/mazes">Professor L’s explanation</a> provides an excellent deep dive into the mechanics of Wilson’s algorithm.</p>
<p>As a test, I created a version with a pre-defined path already embedded in the maze. The starting point was the maze’s entrance, and the random walker was given a target: the beginning of the pre-defined path. The walker kept moving randomly until it reached the target, at which point the path was drawn. The same process was repeated for the exit and the end of the path. Additional paths were then created from random starting points, following the original algorithm—random walking, erasing loops, and connecting to the existing paths. This ensured the maze was filled with intricate routes while preserving the visibility of the original path.</p>
<p><img alt="The main principle behind the generated maze" width="872" height="521" loading="lazy" decoding="async" src="/_astro/principle.BGzCMzTp_Z1NNmUK.webp" ></p>
<h2 id="type-creation">Type Creation</h2>
<p>What initially seemed simple —drawing “2025” in a maze— turned out to be more challenging than expected. The path had to be a single continuous stroke with no intersections or interruptions. After sketching some ideas on paper, I realized that creating outlines for the digits would provide more flexibility for a continuous path and make the design stand out.</p>
<p>I developed a custom tool for this. It featured a grid where I could toggle cells on or off, and ultimately export the data for use in the maze algorithm. At first, I experimented with drawing basic shapes for the digits and connecting them into a single line.</p>
<p><img alt="First version" width="919" height="466" loading="lazy" decoding="async" src="/_astro/v1.Bd1G9rkb_PfGti.webp" ></p>
<p>I settled on a version where the start and end points were on opposite sides of the path, which made more sense visually and functionally.</p>
<p><img alt="Second version" width="705" height="312" loading="lazy" decoding="async" src="/_astro/v2.B765ehHL_wVzoT.webp" ></p>
<p>I created three different sizes for the characters to balance their scale: large enough to fill the maze and allow space for dead ends, but small enough to fit on the card.</p>
<p><img alt="Me being a type designer" width="632" height="587" loading="lazy" decoding="async" src="/_astro/size.DNytaW5o_1qXlXG.webp" ></p>
<h2 id="generating-svgs-with-d3-and-nodejs">Generating SVGs with D3 and Node.js</h2>
<p>Once the “2025” path was finalized, I needed to convert it into an SVG for plotting. This is where <a href="https://d3js.org/">D3.js</a>, a powerful visualization library, came into play. Maybe not the perfect tool for the job, but I was keen to have more experience with it. Although D3 is typically used in the browser, I needed to run in a Node.js environment to automate the process.</p>
<p>D3 requires a <a href="https://developer.mozilla.org/en-US/docs/Web/API/Document_Object_Model/Introduction">DOM</a> to manipulate SVGs, but Node.js doesn’t have a built-in DOM parser. Initially, I used <a href="https://github.com/jsdom/jsdom">JSDOM</a>, but it was painfully slow, taking minutes to generate a single SVG. After some research, I switched to a faster solution: combining <a href="https://github.com/WebReflection/linkedom">linkedom</a> with <a href="https://github.com/neg4n/d3-no-dom">d3-no-dom</a>, which reduced the generation time to just a few seconds.</p>
<h2 id="finishing-touches">Finishing Touches</h2>
<p>To complete the card, I adjusted the walls, changing them from thick blocks to single lines. I used <a href="https://vpype.readthedocs.io/en/stable/index.html">Vpype</a> to eliminate overlapping lines, connect nearby endpoints, translate the design into G-code for the plotter, and optimize the plotting sequence.</p>
<p>The back of the card featured our New Year’s wishes and our names. I reused last year’s script to plot all the addresses on the envelopes.</p>
<p>Happy New Year!</p>
<p><img alt="The card being plotted" width="750" height="421" loading="lazy" decoding="async" src="/_astro/plotting.C6uOwKfc_Z1SwoWO.webp" ></p> </div> <aside data-astro-cid-fzx4jmue> <nav class="pagination" data-astro-cid-fzx4jmue>  <a href="/2024/01/12/new-years-cards/" data-astro-cid-fzx4jmue> <span data-astro-cid-fzx4jmue>New year&#39;s cards</span> <span data-astro-cid-fzx4jmue>→</span> </a> </nav> </aside> </article>   </main> <footer data-astro-cid-sz7xmlte> <div data-astro-cid-sz7xmlte> <ul class="footer__links" data-astro-cid-sz7xmlte> <li data-astro-cid-sz7xmlte> <a href="https://www.instagram.com/donebysimon/" target="_blank" rel="noopener noreferrer" data-astro-cid-sz7xmlte>Instagram</a> </li> <li data-astro-cid-sz7xmlte> <a href="https://github.com/simonvanherweghe" target="_blank" rel="noopener noreferrer" data-astro-cid-sz7xmlte>GitHub</a> </li> <li data-astro-cid-sz7xmlte> <a href="https://bsky.app/profile/donebysimon.be" target="_blank" rel="noopener noreferrer" data-astro-cid-sz7xmlte>Bluesky</a> </li> <li data-astro-cid-sz7xmlte> <a href="/feed.xml" data-astro-cid-sz7xmlte>RSS</a> </li> <li data-astro-cid-sz7xmlte> <a href="/archive" data-astro-cid-sz7xmlte>The Archive</a> </li> </ul> </div> </footer>  </div> </body></html>